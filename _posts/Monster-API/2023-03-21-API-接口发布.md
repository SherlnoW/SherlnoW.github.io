---
layout: post
title: 【项目】MonsterAPI-接口发布
date: 2023-03-21 13:00
description: 接口发布
tag:
- 项目
- API
- Java
---

# MonsterAPI-接口发布

1. 开发接口发布、下线的功能(管理员)
2. 开发浏览接口、查看接口文档、申请签名(注册)
3. 在线调试(用户)

### 接口发布 / 下线

##### 后台接口

发布接口(仅管理员可操作)

1. 校验该接口是否存在
2. 判断该接口是否可以调用
3. 修改接口数据库中的状态字段为 1

下线接口(仅管理员可操作)

1. 校验接口是否存在
2. 修改接口数据库中的状态字段为 0

##### 浏览接口(前端)

* **查看接口文档**

    用 url 传递 id，从而加载不同的接口信息

* **申请签名**

    用户在注册成功时，自动分配 accessKey、secretKey

### 在线调试

请求参数类型直接使用 json:
```json
[
  {"name": "username", "type": "string"}
]
```

##### 调用流程

<figure>    
      <img src="https://s1.ax1x.com/2023/08/07/pPEyZVJ.png" alt="调用流程" >
      <figcaption>Fig 1. 调用流程.</figcaption>
</figure>

流程：

1. 前端将用户输入的请求参数和要测试的接口 id 发给平台后端
2. 在调用前可以做一些校验（todo）
3. 平台后端去调用模拟接口